<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  
  <title>Toko Parfum & Kosmetik — Mall Display</title>
  <meta name="description" content="display toko kue yang aestetic dan unik — warna biru, dan putih." />
  <style>
    :root{
      --blue: #FFF6EA; /* warm blue */
      --white: #FFFFFF;
      --maroon: #6e0f17; /* marun */
      --muted: #7b7b7b;
      --glass: rgba(255,255,255,0.8);
      --card-shadow: 0 8px 20px rgba(16,16,16,0.12);
      --accent: var(--maroon);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: linear-gradient(180deg,var(--cream) 0%, #fff 60%);
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:28px;
    }

    .frame{
      max-width:1200px;
      margin:0 auto;
    }

    header{
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:20px;
    }
    .brand{
      display:flex;gap:12px;align-items:center
    }
    .logo{
      width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--maroon),#b1302f);
      display:flex;align-items:center;justify-content:center;color:var(--white);font-weight:700;font-size:18px;box-shadow:0 6px 18px rgba(111,20,20,0.18)
    }
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .controls{
      display:flex;gap:12px;align-items:center
    }

    /* search */
    .search{
      display:flex;align-items:center;background:var(--white);padding:8px 12px;border-radius:12px;box-shadow:var(--card-shadow);
      min-width:300px;gap:8px;border:1px solid rgba(0,0,0,0.04)
    }
    .search input{border:0;outline:0;font-size:14px;background:transparent;width:220px}
    .chip{
      background:var(--glass);padding:8px 12px;border-radius:999px;font-size:13px;border:1px solid rgba(0,0,0,0.03);
      cursor:pointer;display:inline-flex;align-items:center;gap:8px
    }

    /* category bar */
    .category-bar{display:flex;gap:10px;margin:18px 0 24px}
    .category{padding:10px 14px;border-radius:999px;background:transparent;border:1px solid rgba(0,0,0,0.05);cursor:pointer;font-weight:600}
    .category.active{background:var(--maroon);color:var(--white);box-shadow:0 6px 18px rgba(110,15,23,0.12)}

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:18px}

    .card{
      background:var(--white);border-radius:14px;padding:12px;box-shadow:var(--card-shadow);overflow:hidden;position:relative;transition:transform .28s cubic-bezier(.2,.9,.2,1),box-shadow .28s
    }
    .card:hover{transform:translateY(-8px);box-shadow:0 20px 40px rgba(16,16,16,0.12)}
    .media{height:180px;border-radius:10px;overflow:hidden;background:#f6f6f6;display:flex;align-items:center;justify-content:center}
    .media img{width:100%;height:100%;object-fit:cover;transition:transform .6s cubic-bezier(.2,.9,.2,1)}
    .card:hover .media img{transform:scale(1.06)}

    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
    .title{font-weight:700;font-size:15px}
    .price{font-weight:800;color:var(--maroon)}

    .badges{display:flex;gap:8px;margin-top:8px}
    .badge{font-size:12px;padding:6px 8px;border-radius:999px;background:linear-gradient(180deg,rgba(110,15,23,0.06), rgba(110,15,23,0.02));border:1px solid rgba(110,15,23,0.06);color:var(--maroon)}

    .actions{display:flex;gap:8px;margin-top:12px}
    .btn{flex:1;padding:9px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06)}
    .btn.primary{background:var(--maroon);color:var(--white)}

    /* heart */\    
    .heart{position:absolute;top:12px;right:12px;background:rgba(255,255,255,0.9);width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(0,0,0,0.04)}
    .heart.hearted{background:linear-gradient(135deg,#ff5b6a,#ff3e5a);color:white;transform:scale(1.06)}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.35);display:none;align-items:center;justify-content:center;padding:28px;z-index:60}
    .modal{width:100%;max-width:920px;background:var(--white);border-radius:14px;overflow:hidden;display:grid;grid-template-columns:1fr 360px;gap:18px;padding:18px}
    .modal .media{height:420px;border-radius:12px}
    .close{position:absolute;top:18px;right:18px;background:transparent;border:0;font-size:20px;cursor:pointer}

    /* small screens */
    @media (max-width:820px){
      .modal{grid-template-columns:1fr}
      .search input{width:120px}
    }

    /* subtle entrance */
    .fade-in{animation:fadeUp .6s ease both}
    @keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}

  </style>
</head>
<body>
  <div class="frame">
    <header>
      <div class="brand">
        <div class="logo">TP</div>
        <div>
          <h1>Toko kue aesthetic dan unik —store Display</h1>
          <p class="lead">Koleksi kue yang enak dan lezat — desain ramah pengunjung, modern & intuitif</p>
        </div>
      </div>

      <div class="controls">
        <div class="search" role="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="#c1c1c1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke="#c1c1c1" stroke-width="2"></circle></svg>
          <input id="searchInput" placeholder="Cari kue yang enak dan lezat..." aria-label="Cari produk" />
          <div class="chip" id="sortBtn" title="Urutkan">Urutkan ▾</div>
        </div>
        <div class="chip" id="viewToggle" title="Ubah tampilan">Tampilan Grid</div>
      </div>
    </header>

    <nav class="category-bar" aria-label="Kategori">
      <button class="category active" data-cat="all">Semua</button>
      <button class="category" data-cat="kue">kue</button>
      <button class="category" data-cat="kue">kue</button>
      <button class="category" data-cat="best">Best Seller</button>
    </nav>

    <main>
      <section class="grid" id="productGrid">
        <!-- cards injected by JS -->
      </section>
    </main>
  </div>

  <!-- modal -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="close" id="closeModal" aria-label="Tutup">✕</button>
      <div class="media" id="modalImageContainer"><img src="" alt="Gambar produk"></div>
      <aside>
        <h2 id="modalTitle">Nama Produk</h2>
        <p id="modalTagline" style="color:var(--muted)">Tagline singkat produk</p>
        <div style="margin-top:10px"><span style="font-size:20px;font-weight:800;color:var(--maroon)" id="modalPrice">Rp 0</span></div>
        <div style="margin-top:12px" id="modalDescription">Deskripsi produk singkat yang menjelaskan bahan, dan rasa.</div>

        <div style="margin-top:18px" class="badges">
          <div class="badge">Demo Tester</div>
          <div class="badge">Diskon 10%</div>
        </div>

        <div class="actions" style="margin-top:22px">
          <button class="btn primary" id="buyNow">Beli Sekarang</button>
          <button class="btn ghost" id="addToCart">Tambah ke Keranjang</button>
        </div>
      </aside>
    </div>
  </div>

  <script>
    // Sample product data (replace with real data from backend)
    const products = [
      {id:1,name:'cake double chocolate',category:'kue',price:499000,tagline:'rasa coklat yang pas di mulut',img:'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format&fit=crop&w=800&q=60',desc:'Notes: rose, jasmine, sandalwood. Cocok untuk acara spesial.'},
      {id:2,name:'rainbow cake - Ruby',category:'kue',price:129000,tagline:'warna warni yang melezatkan',img:'https://images.unsplash.com/photo-1585238342027-3a4b4c98a6e6?auto=format&fit=crop&w=800&q=60',desc:'Finishing velvet, nyaman dan tidak kering.'},
      {id:3,name:'macaron',category:'cake',price:349000,tagline:'manis',img:'https://images.unsplash.com/photo-1503342217505-b0a15ec3261c?auto=format&fit=crop&w=800&q=60',desc:'Notes: bergamot, mandarin, musk. Harian yang ringan.'},
      {id:4,name:'blueberry cheseecake',category:'kue',price:99000,tagline:'cheseecake yang menggoda',img:'https://images.unsplash.com/photo-1543353071-087092ec393a?auto=format&fit=crop&w=800&q=60',desc:'Memberi tampilan glowing sehat pada kulit.'},
      {id:5,name:'cheseecake custom',category:'parfum',price:799000,tagline:'enak',img:'https://images.unsplash.com/photo-1579932918882-9f274c1f80c6?auto=format&fit=crop&w=800&q=60',desc:'Oud murni berpadu rempah hangat.'},
      {id:6,name:'double chocolate slice',category:'enak dan manis',price:89000,tagline:'kecil dan enak',img:'https://images.unsplash.com/photo-1545239351-1141bd82e8a6?auto=format&fit=crop&w=800&q=60',desc:'Volumizing tanpa menggumpal.'}
    ];

    const grid = document.getElementById('productGrid');
    const searchInput = document.getElementById('searchInput');
    const categories = document.querySelectorAll('.category');
    const viewToggle = document.getElementById('viewToggle');

    let activeCat = 'all';
    let gridView = 'grid';

    function currency(n){
      return new Intl.NumberFormat('id-ID',{style:'currency',currency:'IDR',maximumFractionDigits:0}).format(n);
    }

    function buildCard(p){
      const el = document.createElement('article');
      el.className = 'card fade-in';
      el.innerHTML = `
        <div class="heart" data-id="${p.id}" title="Wishlist">♡</div>
        <div class="media"><img src="${p.img}" alt="Foto ${p.name}"></div>
        <div class="meta">
          <div>
            <div class="title">${p.name}</div>
            <div style="color:var(--muted);font-size:13px">${p.tagline}</div>
          </div>
          <div class="price">${currency(p.price)}</div>
        </div>
        <div class="badges"><div class="badge">${p.category}</div><div class="badge">Gratis Tester</div></div>
        <div class="actions">
          <button class="btn ghost" data-action="preview" data-id="${p.id}">Lihat</button>
          <button class="btn primary" data-action="buy" data-id="${p.id}">Beli</button>
        </div>
      `;

      // event delegation will handle buttons
      return el;
    }

    function render(list){
      grid.innerHTML = '';
      if(!list.length){
        grid.innerHTML = '<p style="color:var(--muted)">Tidak ada produk yang cocok.</p>';
        return;
      }
      const frag = document.createDocumentFragment();
      list.forEach(p => frag.appendChild(buildCard(p)));
      grid.appendChild(frag);
    }

    // initial render
    render(products);

    // filtering
    categories.forEach(btn => btn.addEventListener('click', e => {
      categories.forEach(b=>b.classList.remove('active'));
      e.currentTarget.classList.add('active');
      activeCat = e.currentTarget.dataset.cat;
      applyFilters();
    }));

    function applyFilters(){
      const q = searchInput.value.trim().toLowerCase();
      let filtered = products.filter(p => {
        const matchCat = activeCat === 'all' || (activeCat === 'best' ? p.price >= 400000 : p.category === activeCat);
        const matchQ = q === '' || p.name.toLowerCase().includes(q) || p.tagline.toLowerCase().includes(q);
        return matchCat && matchQ;
      });
      render(filtered);
    }

    // debounce
    let timer;
    searchInput.addEventListener('input', ()=>{
      clearTimeout(timer);
      timer = setTimeout(()=>applyFilters(),220);
    });

    // view toggle (grid/list simple simulation)
    viewToggle.addEventListener('click', ()=>{
      if(gridView === 'grid'){
        gridView = 'list';
        viewToggle.textContent = 'Tampilan List';
        grid.style.gridTemplateColumns = '1fr';
      } else {
        gridView = 'grid';
        viewToggle.textContent = 'Tampilan Grid';
        grid.style.gridTemplateColumns = 'repeat(auto-fill,minmax(230px,1fr))';
      }
    });

    // Delegation for card buttons and hearts
    document.body.addEventListener('click', (e)=>{
      const target = e.target;
      // wishlist heart
      const heart = target.closest('.heart');
      if(heart){
        heart.classList.toggle('hearted');
        heart.animate([{transform:'scale(1)'},{transform:'scale(1.14)'},{transform:'scale(1)'}],{duration:300,easing:'ease-out'});
        return;
      }

      const btn = target.closest('button[data-action]');
      if(btn){
        const id = Number(btn.dataset.id);
        const act = btn.dataset.action;
        const product = products.find(p=>p.id===id);
        if(act === 'preview') openModal(product);
        if(act === 'buy'){
          // micro interaction
          btn.textContent = '✓ Ditambahkan';
          btn.disabled = true;
          btn.style.opacity = 0.9;
          setTimeout(()=>{btn.textContent = 'Beli';btn.disabled=false;btn.style.opacity=1},1400);
        }
      }
    });

    // Modal logic
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalImageContainer = document.getElementById('modalImageContainer');
    const modalTitle = document.getElementById('modalTitle');
    const modalTagline = document.getElementById('modalTagline');
    const modalPrice = document.getElementById('modalPrice');
    const modalDescription = document.getElementById('modalDescription');
    const closeModal = document.getElementById('closeModal');

    function openModal(product){
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden','false');
      modalImageContainer.querySelector('img').src = product.img;
      modalImageContainer.querySelector('img').alt = product.name;
      modalTitle.textContent = product.name;
      modalTagline.textContent = product.tagline;
      modalPrice.textContent = currency(product.price);
      modalDescription.textContent = product.desc;
      // focus trap simple
      closeModal.focus();
    }
    function hideModal(){
      modalBackdrop.style.display = 'none';
      modalBackdrop.setAttribute('aria-hidden','true');
    }
    closeModal.addEventListener('click',hideModal);
    modalBackdrop.addEventListener('click',(e)=>{ if(e.target === modalBackdrop) hideModal(); });
    document.addEventListener('keydown',(e)=>{ if(e.key === 'Escape') hideModal(); });

    // small progressive enhancement: sort button menu (simple)
    const sortBtn = document.getElementById('sortBtn');
    sortBtn.addEventListener('click', ()=>{
      const menu = ['Harga: Rendah → Tinggi','Harga: Tinggi → Rendah','Terbaru','Rekomendasi'];
      const choice = prompt('Pilih urutan:\n1. '+menu.join('\n2. '));
      const c = Number(choice);
      if(c===1) products.sort((a,b)=>a.price-b.price);
      if(c===2) products.sort((a,b)=>b.price-a.price);
      if(c===3) products.sort((a,b)=>b.id-b.id); // placeholder
      applyFilters();
    });

    // Accessibility: allow enter on category buttons
    document.querySelectorAll('.category').forEach(b=>b.addEventListener('keypress', e=>{ if(e.key==='Enter') b.click(); }));

  </script>
</body>
</html>
